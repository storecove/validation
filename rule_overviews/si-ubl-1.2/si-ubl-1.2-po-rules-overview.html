<html xmlns:svrl="http://purl.oclc.org/dsdl/svrl">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <title>Rules overview</title>
   </head>
   <body>
      <table>
         <thead>
            <tr>
               <th>ID</th>
               <th>Category</th>
               <th>Description</th>
               <th>Query</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td>BII2-T10-R001</td>
               <td>BII2</td>
               <td></td>
               <td>cbc:CustomizationID</td>
            </tr>
            <tr>
               <td>SI-V11-PO-R200</td>
               <td>SI</td>
               <td>This XML instance is NOT tagged as an SI-UBL order; please check the CustomizationID value</td>
               <td>contains(normalize-space(.), 'urn:www.cenbii.eu:transaction:biitrns001:ver2.0:extended:urn:www.peppol.eu:bis:peppol3a:ver2.0:extended:urn:www.simplerinvoicing.org:si:si-ubl:ver1.2')</td>
            </tr>
            <tr>
               <td>SI-PO-R000</td>
               <td>SI</td>
               <td>This is NOT a UBL 2.x Order, validation cannot continue</td>
               <td>ubl:Order</td>
            </tr>
            <tr>
               <td>SI-V12-PO-R201</td>
               <td>SI</td>
               <td>This XML instance is NOT tagged as an SI-UBL order</td>
               <td>contains(., 'urn:www.simplerinvoicing.org:si:si-ubl:ver1.2')</td>
            </tr>
            <tr>
               <td>SI-V12-PO-R001</td>
               <td>SI</td>
               <td>Each order MUST be specified as a UBL 2.1 document</td>
               <td>cbc:UBLVersionID='2.1'</td>
            </tr>
            <tr>
               <td>SI-V12-CODE-R003</td>
               <td>SI</td>
               <td>Country codes in an order MUST be coded using ISO code list 3166-1</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>BII2-T01-R007</td>
               <td>BII2</td>
               <td>Allowances and charges MUST have a reason</td>
               <td>(cbc:AllowanceChargeReason)</td>
            </tr>
            <tr>
               <td>BII2-T01-R021</td>
               <td>BII2</td>
               <td>An order MUST have the buyer party name or a buyer party identifier</td>
               <td>(cac:Party/cac:PartyName/cbc:Name) or (cac:Party/cac:PartyIdentification/cbc:ID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R012</td>
               <td>BII2</td>
               <td>Expected total amount for payment MUST NOT be negative, if expected total amount for payment is provided</td>
               <td>(cbc:PayableAmount) &gt;= 0</td>
            </tr>
            <tr>
               <td>BII2-T01-R013</td>
               <td>BII2</td>
               <td>Expected total sum of line amounts MUST NOT be negative, if expected total sum of line amounts is provided</td>
               <td>(cbc:LineExtensionAmount) &gt;= 0</td>
            </tr>
            <tr>
               <td>BII2-T01-R014</td>
               <td>BII2</td>
               <td>Expected total sum of line amounts MUST equal the sum of the order line amounts at order line level, if expected total sum
                  of line amounts is provided
               </td>
               <td>(xs:decimal(cbc:LineExtensionAmount)) = (round(xs:decimal(sum(/ubl:Order/cac:OrderLine/cac:LineItem/cbc:LineExtensionAmount))
                  * 10 * 10) div 100)
               </td>
            </tr>
            <tr>
               <td>BII2-T01-R015</td>
               <td>BII2</td>
               <td>Expected total sum of allowance at document level MUST be equal to the sum of allowance amounts at document level, if expected
                  total sum of allowance at document level is provided
               </td>
               <td>(cbc:AllowanceTotalAmount and (xs:decimal(cbc:AllowanceTotalAmount)) = (round(xs:decimal(sum(/ubl:Order/cac:AllowanceCharge[cbc:ChargeIndicator="false"]/cbc:Amount))
                  * 10 * 10) div 100)) or not(cbc:AllowanceTotalAmount)
               </td>
            </tr>
            <tr>
               <td>BII2-T01-R016</td>
               <td>BII2</td>
               <td>Expected total sum of charges at document level MUST be equal to the sum of charges at document level, if expected total sum
                  of charges at document level is provided
               </td>
               <td>(cbc:ChargeTotalAmount and (xs:decimal(cbc:ChargeTotalAmount)) = (round(xs:decimal(sum(/ubl:Order/cac:AllowanceCharge[cbc:ChargeIndicator="true"]/cbc:Amount))
                  * 10 * 10) div 100)) or not(cbc:ChargeTotalAmount)
               </td>
            </tr>
            <tr>
               <td>BII2-T01-R017</td>
               <td>BII2</td>
               <td>Expected total amount for payment MUST be equal to the sum of line amounts minus sum of allowances at document level plus
                  sum of charges at document level  and VAT total amount, if expected total amount for payment is provided
               </td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>BII2-T01-R019</td>
               <td>BII2</td>
               <td>Each item property MUST have a data name, if item property is provided</td>
               <td>(cbc:Name)</td>
            </tr>
            <tr>
               <td>BII2-T01-R020</td>
               <td>BII2</td>
               <td>Each item property MUST have a data value, if item property is provided</td>
               <td>(cbc:Value)</td>
            </tr>
            <tr>
               <td>BII2-T01-R001</td>
               <td>BII2</td>
               <td>An order MUST have a customization identifier</td>
               <td>(cbc:CustomizationID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R002</td>
               <td>BII2</td>
               <td>An order MUST have a profile identifier</td>
               <td>(cbc:ProfileID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R004</td>
               <td>BII2</td>
               <td>An order MUST have a document issue date</td>
               <td>(cbc:IssueDate)</td>
            </tr>
            <tr>
               <td>BII2-T01-R006</td>
               <td>BII2</td>
               <td>An order MUST have a document identifier</td>
               <td>(cbc:ID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R009</td>
               <td>BII2</td>
               <td>An order MUST be stated in a single currency</td>
               <td>(cbc:DocumentCurrencyCode)</td>
            </tr>
            <tr>
               <td>BII2-T01-R003</td>
               <td>BII2</td>
               <td>Each order line MUST have a document line identifier that is unique within the order</td>
               <td>(cac:LineItem/cbc:ID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R010</td>
               <td>BII2</td>
               <td>Each order line ordered quantity MUST not be negative</td>
               <td>(cac:LineItem/cbc:Quantity) &gt;= 0</td>
            </tr>
            <tr>
               <td>BII2-T01-R011</td>
               <td>BII2</td>
               <td>Each order line item net price MUST not be negative</td>
               <td>((cac:LineItem/cac:Price/cbc:PriceAmount) &gt;= 0) or (not(cac:LineItem/cac:Price))</td>
            </tr>
            <tr>
               <td>BII2-T01-R030</td>
               <td>BII2</td>
               <td>Each order line ordered quantity  MUST have an associated unit of measure</td>
               <td>(cac:LineItem/cbc:Quantity/@unitCode)</td>
            </tr>
            <tr>
               <td>BII2-T01-R031</td>
               <td>BII2</td>
               <td>Each order line MUST have an item identifier and/or an item name</td>
               <td>(cac:LineItem/cac:Item/cbc:Name) or (cac:LineItem/cac:Item/cac:StandardItemIdentification/cbc:ID) or (cac:LineItem/cac:Item/cac:SellersItemIdentification/cbc:ID)</td>
            </tr>
            <tr>
               <td>BII2-T01-R022</td>
               <td>BII2</td>
               <td>An order MUST have the seller party name or a seller party identifier</td>
               <td>(cac:Party/cac:PartyName/cbc:Name) or (cac:Party/cac:PartyIdentification/cbc:ID)</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R015</td>
               <td>EUGEN</td>
               <td>A country
                  identification code MUST have a list identifier attribute
                  &#8220;ISO3166-1:Alpha2&#8221;
               </td>
               <td>@listID = 'ISO3166-1:Alpha2'</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R014</td>
               <td>EUGEN</td>
               <td>A document
                  currency code MUST have a list identifier attribute &#8220;ISO4217&#8221;
               </td>
               <td>@listID='ISO4217'</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R011</td>
               <td>EUGEN</td>
               <td>An endpoint
                  identifier MUST have a scheme identifier attribute
               </td>
               <td>@schemeID</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R013</td>
               <td>EUGEN</td>
               <td>An order type
                  code MUST have a list identifier attribute &#8220;UNCL1001&#8221;
               </td>
               <td>@listID='UNCL1001' or @listID='UNCLD1001'</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R012</td>
               <td>EUGEN</td>
               <td>A party
                  identifier MUST have a scheme identifier attribute
               </td>
               <td>@schemeID</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R017</td>
               <td>EUGEN</td>
               <td>A tax category
                  identifier MUST have a scheme identifier attribute &#8220;UNCL5305&#8221;
               </td>
               <td>@schemeID = 'UNCL5305'</td>
            </tr>
            <tr>
               <td>EUGEN-T01-R016</td>
               <td>EUGEN</td>
               <td>A unit code
                  attribute MUST have a unit code list identifier attribute &#8220;UNECERec20&#8221;
               </td>
               <td>not(attribute::unitCode) or (attribute::unitCode and attribute::unitCodeListID = 'UNECERec20')</td>
            </tr>
            <tr>
               <td>OP-T01-R001</td>
               <td>OP</td>
               <td>OrderTypeCode in an order MUST be from UN/ECE 1001 code list PEPPOL Subset</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R002</td>
               <td>OP</td>
               <td>DocumentCurrencyCode MUST be coded using ISO code list 4217</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R003</td>
               <td>OP</td>
               <td>A Binary Object MIME code attribute MUST be coded using MIME Code Type version 2008 code list</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R004</td>
               <td>OP</td>
               <td>An Enpoint Identifier Scheme identifier MUST be from the list of PEPPOL Party Identifiers described in the "PEPPOL Policy
                  for using Identifiers".
               </td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R005</td>
               <td>OP</td>
               <td>An Party Identifier Scheme identifier MUST be from the list of PEPPOL Party Identifiers described in the "PEPPOL Policy for
                  using Identifiers".
               </td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R006</td>
               <td>OP</td>
               <td>Country codes in an order MUST be coded using ISO code list 3166-1</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R007</td>
               <td>OP</td>
               <td>currencyID MUST be coded using ISO code list 4217</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
            <tr>
               <td>OP-T01-R008</td>
               <td>OP</td>
               <td>A tax category identifier MUST be coded using UN/ECE 5305 BII2 Subset</td>
               <td>( ( not(contains(normalize-space(.),' ')) and contains( ' AE E S Z AA H ',concat(' ',normalize-space(.),' ') ) ) )</td>
            </tr>
            <tr>
               <td>OP-T01-R009</td>
               <td>OP</td>
               <td>Unit code MUST be coded according to the UN/ECE Recommendation 20 (2009)</td>
               <td>Long XPath used, check the schematron source</td>
            </tr>
         </tbody>
      </table>
   </body>
</html>